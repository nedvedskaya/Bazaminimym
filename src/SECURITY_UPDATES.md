# üîí –û–±–Ω–æ–≤–ª–µ–Ω–∏—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ - –ö—Ä–∞—Ç–∫–∞—è —Å–≤–æ–¥–∫–∞

## ‚úÖ –ß—Ç–æ –±—ã–ª–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ (12 –¥–µ–∫–∞–±—Ä—è 2024)

### üéØ –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ (–ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç 1)
1. ‚úÖ **XSS —É—è–∑–≤–∏–º–æ—Å—Ç—å** –≤ chart.tsx - —É–±—Ä–∞–Ω `dangerouslySetInnerHTML`
2. ‚úÖ **localStorage** - —Å–æ–∑–¥–∞–Ω–∞ –±–µ–∑–æ–ø–∞—Å–Ω–∞—è —É—Ç–∏–ª–∏—Ç–∞ —Å –≤–∞–ª–∏–¥–∞—Ü–∏–µ–π
3. ‚úÖ **–í–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö** - –≤—Å–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –æ–±–µ—Ä–Ω—É—Ç—ã –≤ try-catch

### üõ°Ô∏è –í—ã—Å–æ–∫–∏–µ (–ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç 2)
4. ‚úÖ **Cookie** - –¥–æ–±–∞–≤–ª–µ–Ω—ã —Ñ–ª–∞–≥–∏ `Secure` –∏ `SameSite=Strict`
5. ‚úÖ **CSP** - –¥–æ–±–∞–≤–ª–µ–Ω Content Security Policy –≤ index.html
6. ‚úÖ **Clickjacking** - –¥–æ–±–∞–≤–ª–µ–Ω–∞ –∑–∞—â–∏—Ç–∞ —á–µ—Ä–µ–∑ X-Frame-Options

### üîß –°—Ä–µ–¥–Ω–∏–µ (–ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç 3)
7. ‚úÖ **–ß–∏—Å–ª–æ–≤—ã–µ –ø–æ–ª—è** - –¥–æ–±–∞–≤–ª–µ–Ω—ã –º–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–µ –ª–∏–º–∏—Ç—ã (1-1000, 1-500, 1000-10M)
8. ‚úÖ **Referrer Policy** - –∫–æ–Ω—Ç—Ä–æ–ª—å –ø–µ—Ä–µ–¥–∞—á–∏ –¥–∞–Ω–Ω—ã—Ö
9. ‚úÖ **Permissions Policy** - –±–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –Ω–µ–Ω—É–∂–Ω—ã—Ö API

---

## üì¶ –ù–æ–≤—ã–µ —Ñ–∞–π–ª—ã

### `/utils/storage.ts`
–ë–µ–∑–æ–ø–∞—Å–Ω–∞—è —É—Ç–∏–ª–∏—Ç–∞ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å localStorage:
```tsx
import { safeStorage } from './utils/storage';

// –ß—Ç–µ–Ω–∏–µ —Å –≤–∞–ª–∏–¥–∞—Ü–∏–µ–π
const count = safeStorage.getNumber('purchaseCount', 0);

// –ó–∞–ø–∏—Å—å —Å –ø—Ä–æ–≤–µ—Ä–∫–æ–π
safeStorage.setNumber('purchaseCount', 100);
```

**–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:**
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
- ‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è —Ç–∏–ø–æ–≤ –¥–∞–Ω–Ω—ã—Ö
- ‚úÖ –ó–∞—â–∏—Ç–∞ –æ—Ç –ø–µ—Ä–µ–ø–æ–ª–Ω–µ–Ω–∏—è (max 5MB)
- ‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –ø—Ä–∏–≤–∞—Ç–Ω–æ–≥–æ —Ä–µ–∂–∏–º–∞ –±—Ä–∞—É–∑–µ—Ä–∞

---

## üîÑ –ò–∑–º–µ–Ω–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã

### 1. `/App.tsx`
- –ò–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω `safeStorage`
- –í—Å–µ `localStorage` –∑–∞–º–µ–Ω–µ–Ω—ã –Ω–∞ `safeStorage`
- –î–æ–±–∞–≤–ª–µ–Ω—ã –ª–∏–º–∏—Ç—ã –¥–ª—è –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä–∞:
  - –ó–≤–æ–Ω–∫–æ–≤: max 1000
  - –ö–ª–∏–µ–Ω—Ç–æ–≤: max 500
  - –ß–µ–∫: max 10,000,000 ‚ÇΩ

### 2. `/components/ui/chart.tsx`
- –£–±—Ä–∞–Ω `dangerouslySetInnerHTML`
- CSS –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è –±–µ–∑–æ–ø–∞—Å–Ω–æ —á–µ—Ä–µ–∑ —Å—Ç—Ä–æ–∫—É

### 3. `/components/ui/sidebar.tsx`
- –î–æ–±–∞–≤–ª–µ–Ω—ã —Ñ–ª–∞–≥–∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –∫ cookies
- `SameSite=Strict` –¥–ª—è CSRF –∑–∞—â–∏—Ç—ã
- `Secure` –¥–ª—è HTTPS

### 4. `/index.html`
- –î–æ–±–∞–≤–ª–µ–Ω—ã –∑–∞–≥–æ–ª–æ–≤–∫–∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏:
  ```html
  X-Frame-Options: DENY
  X-Content-Type-Options: nosniff
  Content-Security-Policy: ...
  Referrer-Policy: strict-origin-when-cross-origin
  Permissions-Policy: geolocation=(), microphone=(), camera=()
  ```

---

## üöÄ –ß—Ç–æ –¥–µ–ª–∞—Ç—å –¥–∞–ª—å—à–µ

### –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –ø–µ—Ä–µ–¥ –∑–∞–ø—É—Å–∫–æ–º:
1. ‚úÖ –í–∫–ª—é—á–∏—Ç—å HTTPS –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
2. ‚úÖ –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –≤—Å–µ —Ñ–æ—Ä–º—ã
3. ‚úÖ –ü—Ä–æ–≤–µ—Ä–∏—Ç—å localStorage –≤ –ø—Ä–∏–≤–∞—Ç–Ω–æ–º —Ä–µ–∂–∏–º–µ

### –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è:
1. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–∞–π—Ç –Ω–∞ [securityheaders.com](https://securityheaders.com)
2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–∞ [observatory.mozilla.org](https://observatory.mozilla.org)
3. –û—Ç–∫—Ä—ã—Ç—å Chrome DevTools ‚Üí Security Tab

### –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ:
1. –î–æ–±–∞–≤–∏—Ç—å rate limiting –¥–ª—è –∫–Ω–æ–ø–æ–∫ (debounce 300ms)
2. –û–±—Ñ—É—Å—Ü–∏—Ä–æ–≤–∞—Ç—å –Ω–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞
3. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –æ—à–∏–±–æ–∫

---

## üìä –†–µ–∑—É–ª—å—Ç–∞—Ç

### –ë—ã–ª–æ:
‚ùå XSS —É—è–∑–≤–∏–º–æ—Å—Ç—å —á–µ—Ä–µ–∑ CSS  
‚ùå localStorage –±–µ–∑ –∑–∞—â–∏—Ç—ã  
‚ùå Cookie –±–µ–∑ —Ñ–ª–∞–≥–æ–≤ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏  
‚ùå –ù–µ—Ç CSP  
‚ùå –ù–µ—Ç –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –ø–æ–ª–µ–π  

### –°—Ç–∞–ª–æ:
‚úÖ –ë–µ–∑–æ–ø–∞—Å–Ω—ã–π —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥ CSS  
‚úÖ –ó–∞—â–∏—â–µ–Ω–Ω—ã–π localStorage —Å –≤–∞–ª–∏–¥–∞—Ü–∏–µ–π  
‚úÖ –ë–µ–∑–æ–ø–∞—Å–Ω—ã–µ cookies (SameSite + Secure)  
‚úÖ –°—Ç—Ä–æ–≥–∏–π CSP  
‚úÖ –ü–æ–ª–Ω–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è —Å –ª–∏–º–∏—Ç–∞–º–∏  
‚úÖ –ó–∞—â–∏—Ç–∞ –æ—Ç clickjacking  
‚úÖ Referrer –∏ Permissions Policy  

---

## üí° –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –ë–µ–∑–æ–ø–∞—Å–Ω–æ–µ —Ö—Ä–∞–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö:
```tsx
// –í–º–µ—Å—Ç–æ:
localStorage.setItem('key', value);
const val = localStorage.getItem('key');

// –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ:
safeStorage.setNumber('key', value);
const val = safeStorage.getNumber('key', defaultValue);
```

### –í–∞–ª–∏–¥–∞—Ü–∏—è —á–∏—Å–ª–æ–≤—ã—Ö –ø–æ–ª–µ–π:
```tsx
onChange={(e) => {
  const val = parseInt(e.target.value) || 1;
  setValue(Math.max(minValue, Math.min(val, maxValue)));
}}
```

---

## üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ï—Å–ª–∏ –æ–±–Ω–∞—Ä—É–∂–∏–ª–∏ –ø—Ä–æ–±–ª–µ–º—É –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏:
1. –ù–ï —Å–æ–∑–¥–∞–≤–∞–π—Ç–µ –ø—É–±–ª–∏—á–Ω—ã–π issue
2. –°–æ–æ–±—â–∏—Ç–µ –Ω–∞–ø—Ä—è–º—É—é —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫—É
3. –£–∫–∞–∂–∏—Ç–µ –¥–µ—Ç–∞–ª–∏ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è

---

**–í–µ—Ä—Å–∏—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π:** 1.0.0  
**–î–∞—Ç–∞:** 12 –¥–µ–∫–∞–±—Ä—è 2024  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ì–æ—Ç–æ–≤–æ –∫ –ø—Ä–æ–¥–∞–∫—à–µ–Ω—É
